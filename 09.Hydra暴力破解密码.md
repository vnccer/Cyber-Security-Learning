## 一、暴力破解
- 之前的项目，攻击的是应用程序本身的功能，但这次的目标是所有系统的“大门”——用户登录认证，用自动化工具Hydra，去“猜”出用户的密码
## 二、破解流程
### 2.1 侦测
- 正确的密码在DVWA的Brute Force界面登录，提示“Welcome to the password protected area admin”
- 切换到DVWA的Brute Force模块，检查HTML代码如下，`action="#"`在HTML中代表：把这个表格提交到当前页面的地址，即`/dvwa/vulnerabilities/brute/`
- <img width="350" height="172" alt="image" src="https://github.com/user-attachments/assets/b3cdb712-b71a-4b8a-8e0f-acd13574b913" />

   - 提交方式GET
   - 用户名参数`username`，密码参数`password`
### 2.2 准备字典
- 安装包含`rockyou.txt`在内的官方字典包：`sudo apt-get install wordlists`
   - `apt-get install`：Kali/Debian安装软件的命令
   - `wordlists`：包含`rockyou.txt`等常用字典的软件包的名字
- 解压Kali中的密码字典文件：`gzip -d /usr/share/wordlists/rockyou.txt.gz`
### 2.3 使用Hydra
- Kali终端输入：`hydra -l admin -P /usr/share/wordlists/rockyou.txt 192.168.174.130 http-get-form "/dvwa/vulnerabilities/brute/:username=^USER^&password=^PASS^&Login=Login:S=Welcome to the password protected area"`
   - `-l admin`:指定攻击用户名
   - `-P /user/share/wordlists/rockyou.txt`:指定使用的密码字典文件
   - `192.168.174.130`:目标服务器的IP
   - `http-get-form`:要攻击的是使用GET方法的HTTP表单
   - `"/dvwa/vulnerabilities/brute/:username=^USER^&password=^PASS^&Login=Login`告诉hydra如何构造请求，`^USER^`和`^PASS^`是占位符，hydra会自动替换
   - `S=Welcome to the password protected area"`:这是成功信号，只要返回的内容包含这句话，hydra就知道密码对了

## 三、总结
- 若指令是**没有看到失败就是成功**，会导致DVWA防御机制触发，不再返回预期的“密码错误”信息，导致hydra误判，因此需要**找成功的特性**
   - 破解指令第一次失败，新版本听不懂我告诉hydra“失败信号”的方式，需要加入`F=`<img width="890" height="160" alt="image" src="https://github.com/user-attachments/assets/9e8f8977-c445-4254-8117-84af1c449456" />
   - 破解指令第二次失败，分隔符问题，浏览器用`?`分隔网站和参数，但新版hydra为了区分“网站部分”、“参数部分”和“失败信号部分”，强制要求用`:`做分隔符
   - 结果：<img width="889" height="372" alt="image" src="https://github.com/user-attachments/assets/159279e2-32d0-4aaf-9f69-e5f07d46e030" />

